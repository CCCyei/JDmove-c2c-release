require(["jquery","utils","dot"],function(a,b,c){"use strict";var d={init:function(){d.getClassListByLevel(),d.addClick()},para:{addr:"",proInfo:""},addClick:function(){a(".ca-left").undelegate(".ca-left-item ","click").delegate(".ca-left-item ","click",function(){var c=a(this).data("id");b.isNotEmpty(c)&&d.getClassListByPId(c),a(this).find(".ca-li-left").removeClass("ui-hide"),a(this).addClass("ca-select").siblings().removeClass("ca-select").find(".ca-li-left").addClass("ui-hide")})},getClassListByLevel:function(){var a={url:b.getHost()+"/class/getClassListByLevel"};b.load(a).then(function(a){a&&0==a.code&&b.isNotEmpty(a.data)&&a.data.length>0?(d.renderCategory(a.data),d.getClassListByPId(a.data[0].id)):b.isNotEmpty(a.tip)?b.lightToast(a.tip):b.lightToast("分类接口数据异常")},function(a){})},getClassListByPId:function(a){var c={url:b.getHost()+"/class/getClassListByPId",data:{parentId:a}};b.load(c).then(function(a){a&&0==a.code&&b.isNotEmpty(a.data)&&a.data.length>0?d.renderitem(a.data):b.log("子分类列表")},function(a){b.log("子分类列表")})},renderCategory:function(b){a(".ca-content .ca-left").html(c.template(a(".category").text())(b))},renderitem:function(b){a(".ca-content .ca-right").html(c.template(a(".item").text())(b))}};d.init()});