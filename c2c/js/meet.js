require(["jquery","utils","share","fastclick","paipaiSDK"],function(a,b,c,d,e){d.attach(document.body);var f={init:function(){this.imgLoad(),this.addClick(),this.goScroll(),this.initShareInfo(),this.setShare(),this.initScroll()},para:{firstTime:0},imgLoad:function(){function b(){d+=1,d==c&&(console.log((new Date).getTime()),a(".set-aside").show())}var c,d=0;a(document).ready(function(){console.log((new Date).getTime()),c=a(".set-aside img").length,console.log(c),a(".set-aside img").each(function(){var c=new Image;c.src=a(this).attr("src"),c.complete?b():c.onload=b})})},initScroll:function(){window.addEventListener("scroll",function(){var a=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,c=b.setUrlParam(window.location.href,"translateY",a),d=(new Date).getTime(),e=f.para.firstTime;d-e>300&&(f.para.firstTime=d,history.replaceState("",document.title,c))})},goScroll:function(){var a=b.getParameter("translateY");null!=a&&window.scrollTo(0,a)},getDomain:function(a){switch(a){case"img":return"";case"paipai":return"//paipai.m.jd.com/";default:return""}},download:function(a,c){var d={schemeIOS:'openapp.paipai://poolPublish/app?param={"poolId":"122011"}',schemeAdr:'openapp.paipai://poolPublish/app?param={"poolId":"122011"}',timeout:1e3},e=Date.now(),g=document.createElement("iframe");a&&c&&(d.schemeIOS=a,d.schemeAdr=c),g.src=2===b.getDevicesType()?d.schemeIOS:d.schemeAdr,g.style.display="none",document.body.appendChild(g);var h=setTimeout(function(){var a=Date.now();(!e||a-e<d.timeout+300)&&(window.location=f.getDomain("paipai")+"c2c/appDown.html")},d.timeout);window.onblur=function(){clearTimeout(h)},document.addEventListener("visibilitychange",function(){clearTimeout(h)})},imgLoad:function(){function b(){d+=1,d==c&&a(".set-aside").show()}var c,d=0;a(document).ready(function(){c=a(".set-aside img").length,console.log(c),a(".set-aside img").each(function(){var c=new Image;c.src=a(this).attr("src"),c.complete?b():c.onload=b})})},addClick:function(){a(".sports").unbind("click").bind("click",function(){location.href="https://paipai.m.jd.com/c2c/classifyDetails1.html?ids=header_3_c_cc0XaWoH,intr_3_c_uy8e3UTf,starpool_3_c_3QT0UMNI&translateY=4"}),a(".read").unbind("click").bind("click",function(){location.href="https://paipai.m.jd.com/c2c/classifyDetails1.html?ids=header_3_c_PBbcS0CJ,intr_3_c_e1cHBPNw,starpool_3_c_DXUkKNtv"}),a(".musical").unbind("click").bind("click",function(){location.href="https://paipai.m.jd.com/c2c/classifyDetails1.html?ids=header_3_c_qQEbzkBK,intr_3_c_Nwo0lHdd,starpool_3_c_YJbA7ECA"}),a(".photograph").unbind("click").bind("click",function(){location.href="https://paipai.m.jd.com/c2c/classifyDetails1.html?ids=header_3_c_YBCdw2O8,intr_3_c_j7P6vJDs,starpool_3_c_k1xfvmbX"}),a(".unused").unbind("click").bind("click",function(){console.log("立即发布闲置"),b.isPPAPP()?b.setDoubleClick(function(){e.call.poolPublish()}):f.download()})},initShareInfo:function(){var a={method:"setAPPInfo",params:{type:1,title:"2018，让自己变的更好",subTitle:"新年就要有新目标，用最低的成本来遇见2018更优秀的自己吧！",shareUrl:window.location.href,imgUrl:"http://paipai.m.jd.com/c2c/image/pai-2x.png"}};b.setAppInfo(a)},setShare:function(){var a,d={url:window.location.href,title:"2018，让自己变的更好",qzone_title:"2018，让自己变的更好",wechat_title:"2018，让自己变的更好",wechat_time_title:"2018，让自己变的更好",wechat_desc:"新年就要有新目标，用最低的成本来遇见2018更优秀的自己吧！",qq_desc:"新年就要有新目标，用最低的成本来遇见2018更优秀的自己吧！",qzone_desc:"新年就要有新目标，用最低的成本来遇见2018更优秀的自己吧！",img:"https://paipai.m.jd.com/c2c/image/pai-2x.png",isCallBack:"Y"};a="h5"==b.getLoginType()?"":"jd",setTimeout(c.init(d,a),300)}};e.call.getPhoneInfo(function(a){console.log("app版本 "+JSON.stringify(a)),f.init()}),window.onpageshow=function(a){a.persisted&&f.initShareInfo()}});